<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Arturo Maldonado" />


<title>Clase 12</title>

<script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Estadística_1</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="intro.html">Introducción</a>
</li>
<li>
  <a href="basico.html">Procedimientos básicos</a>
</li>
<li>
  <a href="clase1.html">Clase 1</a>
</li>
<li>
  <a href="clase2.html">Clase 2</a>
</li>
<li>
  <a href="clase3.html">Clase 3 y 4</a>
</li>
<li>
  <a href="clase4.html">Clase 5</a>
</li>
<li>
  <a href="clase5.html">Clase 6</a>
</li>
<li>
  <a href="clase6.html">Clase 7</a>
</li>
<li>
  <a href="repaso.html">Repaso</a>
</li>
<li>
  <a href="clase7.html">Clase 10</a>
</li>
<li>
  <a href="clase9.html">Clase 11</a>
</li>
<li>
  <a href="clase12.html">Clase 12</a>
</li>
<li>
  <a href="clase13.html">Clase 13</a>
</li>
<li>
  <a href="clase14.html">Clase 14</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="https://github.com/arturomaldonado/Estadistica_1.0">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Clase 12</h1>
<h4 class="author">Arturo Maldonado</h4>
<h4 class="date">7/11/2023</h4>

</div>


<div id="introducción-a-la-regresión-lineal-múltiple"
class="section level1">
<h1>Introducción a la regresión lineal múltiple</h1>
<ul>
<li><p>El análisis bivariado es un primer paso en el análisis
estadístico. Se encuentran (co)rrelaciones: X - Y</p></li>
<li><p>¿Por qué agregar más variables? Se busca aproximarse a la
causalidad: X -&gt; Y</p></li>
<li><p>Para aproximarse a establecer causalidad es necesario el análisis
multivariado.</p></li>
<li><p>Para hablar de causalidad, se requieren ciertos criterios:</p>
<ul>
<li><p>Asociación entre las variables, pero asociación no implica
causalidad.</p></li>
<li><p>Orden temporal: que la causa ocurra antes que el efecto.</p></li>
<li><p>Eliminación de hipótesis alternativas. Estas hipótesis
alternativas regularmente parten de la literatura.</p></li>
</ul></li>
</ul>
</div>
<div id="control-estadístico" class="section level1">
<h1>Control estadístico</h1>
<p>Para evaluar (o eliminar) las hipótesis alternativas, se realiza un
“control estadístico”. La idea es:</p>
<ul>
<li><p>Evaluar si la asociación entre X - Y permanece si se remueve el
efecto de otra variable, es decir, si se controla por una tercera
variable.</p></li>
<li><p>Para controlar por variables importantes, como las
sociodemográficas.</p></li>
<li><p>En un experimento se puede controlar por un gran número de
variables desde el diseño. Por ejemplo, se puede asegurar que el sujeto
experimental esté expuesto a las mismas condiciones. Control
experimental.</p></li>
<li><p>En los métodos observacionales se puede aproximar un control
experimental agrupando las observaciones en grupos de valores iguales o
similares de las variables de control. Control estadístico.</p></li>
<li><p>En la práctica, se analiza la relación entre X - Y para valores
similares o iguales de una variable Z. De esta manera se elimina la
influencia de Z en la relación entre X - Y. Es un paso en el
establecimiento de X -&gt; Y.</p></li>
<li><p>Si la relación entre X - Y desaparece cuando se controla por Z,
se dice que la relación era espúrea.</p></li>
</ul>
<p>Para dar un ejemplo, usaremos los datos de la elección 2016. Esta
base de datos incluye una variable de PBI per cápita en cada
departamento. Con esta variable se ha creado otra variable agrupando el
PBI en 3 grupos: alto, medio, bajo.</p>
<pre class="r"><code>library(rio)
data16 = import(&quot;bases/datos2016_v3.sav&quot;)</code></pre>
<p>En primer lugar, haremos una inspección visual de la relación entre
el acceso a internet y el voto a PPK, mediante un gráfico de dispersión.
Esta gráfico incluirá una tercera variable, PBI per cápita, que se
visualizará como un color de cada observación.</p>
<pre class="r"><code>library(ggplot2)
ggplot(data16, aes(x=Uso_internet, y=Voto_PPK_2016_1))+
  geom_point(aes(color=pbipc_grupos))+
  geom_smooth(method=lm, se=F)+ #agregar línea de tendencia
  geom_text(data=data16, aes(label=Dpto), 
            cex=2, nudge_y = 1.1, check_overlap = T)+ #Pata etiquetar los puntos, darles un tamaño, ubicación y prevenir que se sobrepongan
  labs(x=&quot;Porcentaje de uso de internet&quot;, 
       y=&quot;Voto a PPK (1era vuelta 2016)&quot;)+ #para etiquetar los ejes
  theme_light()</code></pre>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="clase12_files/figure-html/dispersion1-1.png" width="672" /></p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching core tidyverse packages ────────
## ✔ dplyr     1.1.3     ✔ readr     2.1.4
## ✔ forcats   1.0.0     ✔ stringr   1.5.0
## ✔ lubridate 1.9.2     ✔ tibble    3.2.1
## ✔ purrr     1.0.2     ✔ tidyr     1.3.0
## ── Conflicts ─────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<pre class="r"><code>data16 = data16 |&gt;
  mutate(pbigrupo = factor(pbipc_grupos, labels=c(&quot;Bajo&quot;,
                                                  &quot;Medio&quot;, 
                                                  &quot;Alto&quot;)))</code></pre>
<pre class="r"><code>ggplot(data16, aes(x=Uso_internet, y=Voto_PPK_2016_1))+
  geom_point(aes(color=pbigrupo))+
  geom_smooth(method=lm, se=F)+ #agregar línea de tendencia
  geom_text(data=data16, aes(label=Dpto), 
            cex=2, nudge_y = 1.1, check_overlap = T)+ #Pata etiquetar los puntos, darles un tamaño, ubicación y prevenir que se sobrepongan
  labs(x=&quot;Porcentaje de uso de internet&quot;, 
       y=&quot;Voto a PPK (1era vuelta 2016)&quot;)+ #para etiquetar los ejes
  theme_light()</code></pre>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="clase12_files/figure-html/dispersion2-1.png" width="672" /></p>
<p>El color de cada punto representa un nivel de PBI per cápita: negro
significa PBI per cápita departamental bajo, rojo significa PBI per
cápita departamental medio y verde significa PBI per cápita
departamental alto.</p>
<p>Para analizar visualmente la relación entre acceso a internet y voto
a PPK, controlando por el PBI per cápita, se puede analizar evaluar la
relación entre X - Y para grupos de Z. Es decir, se puede evaluar
visualmente la relación entre acceso a internet - voto a PPK, en cada
grupo de color.</p>
<p>¿Cuál es la relación entre X - Y para el grupo de observaciones en
rojo (PBI per cápita departamental bajo)? Se observa una relación
positiva, aunque tenue.</p>
<p>¿Cuál es la relación entre X - Y para el grupo de observaciones en
verde (PBI per cápita departamental medio)? Se observa una relación
negativa, contrario a la hipótesis planteada.</p>
<p>¿Cuál es la relación entre X - Y para el grupo de observaciones en
azul (PBI per cápita departamental alto)? Se observa una relación
positiva.</p>
<p>Pregunta final: ¿se mantiene la relación entre acceso a internet y
voto a PPK en cada grupo de PBI per cápita?</p>
<p>En un extremo, la relación entre X - Y se mantiene (en la misma
dirección) para cada grupo de Z. Si esto es así, se dice que la relación
entre X - Y se mantiene controlando por Z.</p>
<p>En el otro extremos, la relación entre X - Y no se mantiene para
ningún grupo de Z. Si esto es así, se dice que la relación entre X - Y
es una relación espúrea, que cuando se controla por Z, esta relación
bivariada desaparece.</p>
<p>En la práctica, el análisis multivariado analiza si la relación entre
X - Y se mantiene “en promedio” para cada grupo de Z. Para hacer esta
evaluación no es suficiente (y a veces, no es necesario) el análisis
visual en el diagrama de dispersión, sino que hace falta un modelo
estadístico.</p>
</div>
<div id="modelo-de-regresión-lineal-múltiple" class="section level1">
<h1>Modelo de regresión lineal múltiple</h1>
<p>Se usa un modelo de regresión lineal múltiple para el cálculo de los
efectos de varios predictores en una variable dependiente numérica en un
mismo modelo. Por ejemplo, si quisiéramos evaluar la relación entre la
variable acceso a internet y la variable PBI per cápita en el voto a
PPK, se puede incluir ambas variables independientes en un mismo
modelo.</p>
<p>En ese caso, el modelo sería: <span class="math inline">\(\hat{Y} =
\hat{\alpha} + \hat{\beta_1}*X_1+\hat{\beta_2}*X_2\)</span></p>
<p>Si la relación bivariada se evalúa en un plano cartesiano, cuando se
incluye una tercera variable, el análisis pasa de un plano cartesiano a
un espacio cartesiano. Para fines explicativos, esto se puede graficar
en un diagrama de dispersión en tres dimensiones.</p>
<pre class="r"><code>#Este código NO se evaluará
library(scatterplot3d)
scatterplot3d(x=data16$Uso_internet, y=data16$Voto_PPK_2016_1, z=data16$pbipc_2014)</code></pre>
<p><img src="clase12_files/figure-html/3d-1.png" width="672" /></p>
<pre class="r"><code>pairs(data16$Uso_internet ~ data16$Uso_internet+data16$pbipc_2014)</code></pre>
<p><img src="clase12_files/figure-html/3d-2.png" width="672" /></p>
<p>En este caso, cada punto estaría ubicado de acuerdo a los valores en
las 3 variables. No es fácil visualizar la relaciones parciales entre X
- Y y entre Z - Y. Una mejor visualización es mirando los lados del
cubo.</p>
<p>Uno podría pensar que es suficiente con realizar dos regresiones
lineales simples entre cada variable independiente con la dependiente.
Si lo hacemos, tendríamos dos modelos simples. Para la relación original
entre acceso a internet y voto a PPK, se tiene.</p>
<pre class="r"><code>modelo1 = lm(data16$Voto_PPK_2016_1 ~ data16$Uso_internet)
summary(modelo1)</code></pre>
<pre><code>## 
## Call:
## lm(formula = data16$Voto_PPK_2016_1 ~ data16$Uso_internet)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -7.6001 -4.9871 -0.2939  3.2344 13.7498 
## 
## Coefficients:
##                     Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)          3.51789    3.23825   1.086 0.288576    
## data16$Uso_internet  0.37312    0.09264   4.028 0.000525 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 5.649 on 23 degrees of freedom
## Multiple R-squared:  0.4136, Adjusted R-squared:  0.3881 
## F-statistic: 16.22 on 1 and 23 DF,  p-value: 0.0005251</code></pre>
<p>Y para la segunda variable, se tiene.</p>
<pre class="r"><code>modelo2 = lm(data16$Voto_PPK_2016_1 ~ data16$pbipc_2014)
summary(modelo2)</code></pre>
<pre><code>## 
## Call:
## lm(formula = data16$Voto_PPK_2016_1 ~ data16$pbipc_2014)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -7.739 -3.634 -1.237  2.506 11.596 
## 
## Coefficients:
##                    Estimate Std. Error t value Pr(&gt;|t|)   
## (Intercept)       8.0704028  2.2830875   3.535  0.00186 **
## data16$pbipc_2014 0.0004790  0.0001324   3.619  0.00152 **
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 5.584 on 22 degrees of freedom
##   (1 observation deleted due to missingness)
## Multiple R-squared:  0.3732, Adjusted R-squared:  0.3447 
## F-statistic:  13.1 on 1 and 22 DF,  p-value: 0.00152</code></pre>
<pre class="r"><code>modelo3 = lm(data16$Voto_PPK_2016_1 ~ data16$Analfabetismo_2014)
summary(modelo3)</code></pre>
<pre><code>## 
## Call:
## lm(formula = data16$Voto_PPK_2016_1 ~ data16$Analfabetismo_2014)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -10.701  -3.535  -1.225   4.402   9.015 
## 
## Coefficients:
##                           Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                24.6354     2.2318  11.038 1.15e-10 ***
## data16$Analfabetismo_2014  -1.1462     0.2523  -4.543 0.000146 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 5.356 on 23 degrees of freedom
## Multiple R-squared:  0.4729, Adjusted R-squared:   0.45 
## F-statistic: 20.63 on 1 and 23 DF,  p-value: 0.0001456</code></pre>
<p>Mirando los resultados de ambos modelos lineales simples, se tiene
que ambas variables, tanto acceso a internet como PBI, son
significativas. Ambas tienen un efecto directo, es decir, a mayor acceso
a internet, mayor voto a PPK en promedio, y a mayor PBI per cápita,
mayor voto a PPK en promedio.</p>
<p>Estos modelos, sin embargo, analizan el impacto individual de cada
variable, sin ningún tipo de control estadístico. Los modelos lineales
simple, en ese sentido, están más cerca de un análisis de correlación,
que de uno de causalidad.</p>
<p>Para tratar de acercarnos al ideal de causalidad, se tiene que
controlar por posibles explicaciones alternativas. La discusión con
respecto a la elección 2016 planteaba que el voto a PPK también tenía un
componente económico. Se especulaba que los sectores más beneficiados
del boom económico podían votar en mayor medida a favor de PPK. Si esto
es así, la variable de PBI per cápita puede recoger este fenómeno.</p>
<p>La idea es evaluar si la relación entre acceso a internet y voto a
PPK se mantiene controlando por una variable económica. Para esto, se
realiza un modelo lineal múltiple usando el voto a PPK como variable
dependiente y el acceso a internet y el PBI per cápita como variables
independientes, en un mismo modelo. El comando <code>lm</code> permite
incluir varios predictores independientes en un mismo modelo con el
símbolo +.</p>
<pre class="r"><code>modelo4 = lm(Voto_PPK_2016_1 ~ Uso_internet + Analfabetismo_2014 + pbipc_2014, data=data16)
summary(modelo4)</code></pre>
<pre><code>## 
## Call:
## lm(formula = Voto_PPK_2016_1 ~ Uso_internet + Analfabetismo_2014 + 
##     pbipc_2014, data = data16)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -10.2876  -2.6319  -0.6423   2.4823   8.1417 
## 
## Coefficients:
##                      Estimate Std. Error t value Pr(&gt;|t|)  
## (Intercept)        19.2084720  7.2748230   2.640   0.0157 *
## Uso_internet       -0.0634842  0.1681417  -0.378   0.7097  
## Analfabetismo_2014 -0.8535105  0.3884828  -2.197   0.0400 *
## pbipc_2014          0.0003255  0.0001645   1.979   0.0618 .
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 5.037 on 20 degrees of freedom
##   (1 observation deleted due to missingness)
## Multiple R-squared:  0.5363, Adjusted R-squared:  0.4668 
## F-statistic: 7.711 on 3 and 20 DF,  p-value: 0.001292</code></pre>
</div>
<div id="leyendo-el-modelo" class="section level1">
<h1>Leyendo el modelo</h1>
<div id="es-válido-el-modelo" class="section level2">
<h2>¿Es válido el modelo?</h2>
<p>Como ahora tenemos dos variables independientes, la validez del
modelo ya no depende solo de la relación de una variable independiente
con la dependiente. Para evaluar la validez del modelo se tiene que
hacer una evaluación general. Esta evaluación plantea una hipótesis cero
que todas las pendientes (o coeficientes) son iguales a cero.</p>
<p><span class="math inline">\(H0: \beta_1 = \beta_2 = \beta_3
=...\beta_n = 0\)</span></p>
<p>La hipótesis alternativa indica que al menos una pendiente es
diferente de cero, lo que indicaría que al menos una variable
independiente tiene relación con la variable dependiente.</p>
<p>Para evaluar esta hipótesis se analiza los resultados de la prueba F
(en la última línea de resultados del modelo). El estadístico F = 7.74
tiene un p-value asociado de 0.0030. Este p-value es menor de 0.05, por
lo que podemos rechazar la H0 y afirmar que al menos un coeficiente debe
ser diferente de cero.</p>
</div>
<div id="test-de-inferencia-hay-relación-entre-las-vis-y-la-vd"
class="section level2">
<h2>Test de inferencia: ¿hay relación entre las VIs y la VD?</h2>
<p>Esta pregunta se responde para cada variable independiente,
evaluación que se hace dentro de un modelo lineal multivariado, donde se
controla por el resto de variables.</p>
<p>Cada variable independiente tiene una fila de resultados con su
propia prueba de independencia. Esta pruebas tiene las siguientes
hipótesis:</p>
<p><span class="math inline">\(H0: \beta_1 = 0\)</span> y <span
class="math inline">\(H0: \beta_2 = 0\)</span></p>
<p>Para la variable uso de internet, la fila correspondiente nos indica
que tenemos un coeficiente de 0.186. Para esta variable el estadístico
de la prueba t tiene un valor de 1.367, con un p-value de 0.186. Este
p-value es mayor de 0.05, por lo que fallamos en rechazar la H0. Es
decir, se tiene 18.6% de probabilidades de tener un coeficiente de 0.18,
si el verdadero valor del parámetro es 0. En resumen, con estos valores,
no encontramos una relación entre acceso a internet y voto a PPK.</p>
<p>Para la variable, PBI per cápita, tenemos un coeficiente de 0.0003,
con un estadístico de la prueba t de 1.74 y un p-value de 0.096. Con
este p-value no podemos rechazar la H0 a un valor crítico de 0.05). Este
p-value no es menos a 0.05, por lo que no sería significativo. Pero, si
se relaja el criterio, este p-value es menor a 0.10. Es decir, se tiene
9.6% de probabilidades de observar una pendiente de 0.0003 si la
verdadera pendiente fuera 0. Podemos asumir que esta probabilidad es
baja, por lo que podemos concluir que sí existe una relación entre PBI y
voto a PPK al 0.1 de valor crítico.</p>
<p>En conclusión, la relación entre acceso a internet y voto a PPK, que
se había encontrado en el análisis bivariado, no se mantiene en un
análisis multivariado, cuando se controla por la variable PBI. Muy
probablemente estemos hablando de una relación espúrea, pues PBI podría
tener un efecto tanto en el acceso a internet (departamentos más ricos,
tienen familias que pueden pagar por el servicio de internet), como en
el voto a PPK (departamentos más ricos, votan en mayor medida a
PPK).</p>
</div>
<div id="dirección-de-la-relación" class="section level2">
<h2>Dirección de la relación</h2>
<p>De la misma manera que en análisis bivariado, la dirección de la
relación entre las variables independientes y la dependiente está
marcado por el signo del coeficiente.</p>
<p>En este caso, solo se analiza el signo del coeficiente de la variable
PBI, pues es la única significativa al 0.10. El signo del coeficiente es
positivo (+), lo que indica que departamentos con un mayor PBI per
cápita tendrían un mayor porcentaje de voto a PPK en promedio.</p>
</div>
<div id="ajuste-del-modelo" class="section level2">
<h2>Ajuste del modelo</h2>
<p>De la misma manera que en el análisis bivariado, el ajuste del modelo
se entiende como el porcentaje de la variación total de la variable
dependiente explicada por las variables independientes. Este dato se
obtiene con el <span class="math inline">\(R^2\)</span>.</p>
<p>En nuestro ejemplo se tiene un <span class="math inline">\(R^2
ajustado = 0.47\)</span>. Esta dato indicaría que el modelo que incluye
las variables acceso a internet y PBI per cápita explican el 47% de la
variación total del voto a PPK.</p>
<p>El <span class="math inline">\(R^2\)</span> ajustado se usa cuando se
quiere comparar entre diferentes modelos, ya sea porque se usan
diferentes variables o diferente número de variables. Esto es importante
cuando se comparar modelos con diferente número de variables
independientes, porque el <span class="math inline">\(R^2\)</span> tiene
la característica de aumentar cuando se incluyen más variables
independientes. El <span class="math inline">\(R^2\)</span> ajustado
controla por esta inflación artificial.</p>
</div>
<div id="predicción" class="section level2">
<h2>Predicción</h2>
<p>Para la predicción se tiene que construir la ecuación del modelo.
Esta ecuación se construye con los valores de los coeficientes de ambas
variables, así alguna de ellas no haya salido significativa. A esto de
se agrega el valor de la constante.</p>
<p>En nuestro ejemplo se tiene la siguiente ecuación, siendo Y el voto a
PPK, X1 el acceso a internet y X2 en PBi per cápita:</p>
<p><span class="math display">\[\hat{Y} = 4.71 +
0.18*X_1+0.0003*X_2\]</span></p>
<p>Para hallar el voto estimado a PPK, se tiene que agregar valores de
las dos variables independientes. Para poder aproximar valores estándar
de estas variables, estas se pueden describir.</p>
<pre class="r"><code>summary(data16$Uso_internet)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   14.00   23.00   32.00   32.76   42.00   58.00</code></pre>
<pre class="r"><code>summary(data16$pbipc_2014)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##    7001    9556   11882   14946   18807   47564       1</code></pre>
<p>Por lo tanto, si queremos calcular un voto promedio estimado a PPK,
se podría reemplazar X1=32.8 y X2=14946.</p>
<p><span class="math display">\[\hat{Y} = 4.71 + 0.18*32.8+0.0003*14946
= 15.1 % \]</span></p>
<p>En conclusión, para valores promedio de las variables independientes,
el voto estimado a PPK, según el modelo, sería de 15.1%. Este mismo
ejercicio se puede hacer para los valores mínimos, máximos, para algunos
percentiles particulares, etc.</p>
</div>
<div id="comparando-entre-variables" class="section level2">
<h2>Comparando entre variables</h2>
<p>En ocasiones se quiere analizar qué variable independiente tiene un
mayor efecto sobre la variable dependiente. Este análisis no se puede
hacer simplemente comparando los coeficientes del modelo anterior,
debido a que estos coeficientes están en diferentes unidades: acceso a
internet en porcentaje y PBI per cápita en soles.</p>
<p>Para poder comparar el efecto de cada variable sobre la variable
dependiente, se tiene que calcular los coeficientes estandarizados.
Estos coeficientes son independientes de las unidades de medida.</p>
<p>Para poder calculas los coeficientes estandarizados, se puede usar la
librería <code>jtools</code>, que cuenta con el comando
<code>summ</code>, donde se puede especificar <code>scale=TRUE</code>
para que se presenten los coeficientes estandarizados.</p>
<pre class="r"><code>library(jtools)
summ(modelo4, scale=T)</code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
Observations
</td>
<td style="text-align:right;">
24 (1 missing obs. deleted)
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Dependent variable
</td>
<td style="text-align:right;">
Voto_PPK_2016_1
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Type
</td>
<td style="text-align:right;">
OLS linear regression
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
F(3,20)
</td>
<td style="text-align:right;">
7.71
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
R²
</td>
<td style="text-align:right;">
0.54
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Adj. R²
</td>
<td style="text-align:right;">
0.47
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Est.
</th>
<th style="text-align:right;">
S.E.
</th>
<th style="text-align:right;">
t val.
</th>
<th style="text-align:right;">
p
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
(Intercept)
</td>
<td style="text-align:right;">
15.23
</td>
<td style="text-align:right;">
1.03
</td>
<td style="text-align:right;">
14.81
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Uso_internet
</td>
<td style="text-align:right;">
-0.74
</td>
<td style="text-align:right;">
1.95
</td>
<td style="text-align:right;">
-0.38
</td>
<td style="text-align:right;">
0.71
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Analfabetismo_2014
</td>
<td style="text-align:right;">
-3.63
</td>
<td style="text-align:right;">
1.65
</td>
<td style="text-align:right;">
-2.20
</td>
<td style="text-align:right;">
0.04
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
pbipc_2014
</td>
<td style="text-align:right;">
2.86
</td>
<td style="text-align:right;">
1.45
</td>
<td style="text-align:right;">
1.98
</td>
<td style="text-align:right;">
0.06
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> Standard errors: OLS; Continuous predictors are
mean-centered and scaled by 1 s.d.
</td>
</tr>
</tfoot>
</table>
<p>De acuerdo a estos resultados, la variable independiente que tiene un
efecto mayor sobre la variable dependiente es el PBI per cápita. Este
análisis es mucho más útil cuando tenemos una mayor cantidad de
variables independientes y de variables significativas en diferentes
unidades de medición.</p>
<p>Para graficar los coeficientes</p>
<pre class="r"><code>plot_summs(modelo4, coefs=c(&quot;% Familias con acceso a internet&quot; = &quot;Uso_internet&quot;, 
                            &quot;Tasa de analfabetismo (2014)&quot; = &quot;Analfabetismo_2014&quot;,
                            &quot;PBI per cápita (2014)&quot; = &quot;pbipc_2014&quot;))</code></pre>
<pre><code>## Registered S3 methods overwritten by &#39;broom&#39;:
##   method            from  
##   tidy.glht         jtools
##   tidy.summary.glht jtools</code></pre>
<pre><code>## Loading required namespace: broom.mixed</code></pre>
<p><img src="clase12_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
</div>
<div id="leyendo-resultados-académicos" class="section level1">
<h1>Leyendo resultados académicos</h1>
<p>El análisis de regresión lineal multivariado es una de las
herramientas académicas más usadas. Es muy común encontrar tablas, como
la que se muestra abajo, con resultados de este tipo.</p>
<p>Un punto importante, además de producir resultados, es saber
interpretarlos. La tabla proviene de la tesis de pregrado de Sebastián
Lazo, luego reportada en su artículo “Comportamiento electoral en el
Perú: Un análisis del rol de las variables sociodemográficas en las
elecciones presidenciales en primera vuelta de 2006 y 2011”, disponible
<a
href="https://revistas.pucp.edu.pe/index.php/cienciapolitica/article/view/14520">aquí</a>.</p>
<p>El artículo hace una revisión de la literatura de los estudios en
Perú sobre el comportamiento electoral e identifica las principales
variables que se discuten cómo explicativas del voto por ciertos
candidatos.</p>
<p><img src="marco.png" width="544" /></p>
<p>Luego identifica las variables disponibles y que están relacionadas
con el marco teórico. La unidad de análisis son los distritos del Perú.
Una una variable dependiente por cada candidato y un set de variables
independientes, que refieren de alguna manera con la revisión de la
literatura. En los estudios cuantitativos se tiene la restricción de la
disponibilidad de la información. No todos los factores que se
hipotetiza que tienen relación con una variable han sido medidos.</p>
<p><img src="variables.png" width="524" /></p>
<p>Lazo obtiene los siguientes resultados. Se muestran los coeficientes,
los signos de los coeficientes y asteriscos que indican el nivel de
significancia de los resultados.</p>
<p><img src="Lazo.png" width="484" /></p>
<p>Lazo además incluye una nota al pie con los detalles de las
significancias y con la fuerza expplicativa de cada modelo mediante el
R2. Se asume que todos los modelos son válidos.</p>
<p><img src="piepagina.png" width="473" /></p>
<p>¿Qué conclusiones se puede tener de estos resultados acerca del
perfil de los candidatos?</p>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiQ2xhc2UgMTIiCmF1dGhvcjogIkFydHVybyBNYWxkb25hZG8iCmRhdGU6ICI3LzExLzIwMjMiCm91dHB1dDoKICBodG1sX2RvY3VtZW50OgogICAgdG9jOiB0cnVlCiAgICB0b2NfZmxvYXQ6IHRydWUKICAgIGNvbGxhcHNlZDogZmFsc2UKICAgIG51bWJlcl9zZWN0aW9uczogZmFsc2UKICAgIHRvY19kZXB0aDogMQogICAgY29kZV9kb3dubG9hZDogdHJ1ZQogICAgdGhlbWU6IGNvc21vCiAgICBoaWdobGlnaHQ6IHRleHRtYXRlCmVkaXRvcl9vcHRpb25zOgogIG1hcmtkb3duOgogICAgd3JhcDogc2VudGVuY2UKYmlibGlvZ3JhcGh5OiByZWZlcmVuY2VzLmJpYgotLS0KCmBgYHtyIHNldHVwLCBpbmNsdWRlPUZBTFNFfQprbml0cjo6b3B0c19jaHVuayRzZXQoZWNobyA9IFRSVUUpCmBgYAoKIyBJbnRyb2R1Y2Npw7NuIGEgbGEgcmVncmVzacOzbiBsaW5lYWwgbcO6bHRpcGxlCgotICAgRWwgYW7DoWxpc2lzIGJpdmFyaWFkbyBlcyB1biBwcmltZXIgcGFzbyBlbiBlbCBhbsOhbGlzaXMgZXN0YWTDrXN0aWNvLgogICAgU2UgZW5jdWVudHJhbiAoY28pcnJlbGFjaW9uZXM6IFggLSBZCgotICAgwr9Qb3IgcXXDqSBhZ3JlZ2FyIG3DoXMgdmFyaWFibGVzPwogICAgU2UgYnVzY2EgYXByb3hpbWFyc2UgYSBsYSBjYXVzYWxpZGFkOiBYIC1cPiBZCgotICAgUGFyYSBhcHJveGltYXJzZSBhIGVzdGFibGVjZXIgY2F1c2FsaWRhZCBlcyBuZWNlc2FyaW8gZWwgYW7DoWxpc2lzIG11bHRpdmFyaWFkby4KCi0gICBQYXJhIGhhYmxhciBkZSBjYXVzYWxpZGFkLCBzZSByZXF1aWVyZW4gY2llcnRvcyBjcml0ZXJpb3M6CgogICAgLSAgIEFzb2NpYWNpw7NuIGVudHJlIGxhcyB2YXJpYWJsZXMsIHBlcm8gYXNvY2lhY2nDs24gbm8gaW1wbGljYSBjYXVzYWxpZGFkLgoKICAgIC0gICBPcmRlbiB0ZW1wb3JhbDogcXVlIGxhIGNhdXNhIG9jdXJyYSBhbnRlcyBxdWUgZWwgZWZlY3RvLgoKICAgIC0gICBFbGltaW5hY2nDs24gZGUgaGlww7N0ZXNpcyBhbHRlcm5hdGl2YXMuCiAgICAgICAgRXN0YXMgaGlww7N0ZXNpcyBhbHRlcm5hdGl2YXMgcmVndWxhcm1lbnRlIHBhcnRlbiBkZSBsYSBsaXRlcmF0dXJhLgoKIyBDb250cm9sIGVzdGFkw61zdGljbwoKUGFyYSBldmFsdWFyIChvIGVsaW1pbmFyKSBsYXMgaGlww7N0ZXNpcyBhbHRlcm5hdGl2YXMsIHNlIHJlYWxpemEgdW4gImNvbnRyb2wgZXN0YWTDrXN0aWNvIi4KTGEgaWRlYSBlczoKCi0gICBFdmFsdWFyIHNpIGxhIGFzb2NpYWNpw7NuIGVudHJlIFggLSBZIHBlcm1hbmVjZSBzaSBzZSByZW11ZXZlIGVsIGVmZWN0byBkZSBvdHJhIHZhcmlhYmxlLCBlcyBkZWNpciwgc2kgc2UgY29udHJvbGEgcG9yIHVuYSB0ZXJjZXJhIHZhcmlhYmxlLgoKLSAgIFBhcmEgY29udHJvbGFyIHBvciB2YXJpYWJsZXMgaW1wb3J0YW50ZXMsIGNvbW8gbGFzIHNvY2lvZGVtb2dyw6FmaWNhcy4KCi0gICBFbiB1biBleHBlcmltZW50byBzZSBwdWVkZSBjb250cm9sYXIgcG9yIHVuIGdyYW4gbsO6bWVybyBkZSB2YXJpYWJsZXMgZGVzZGUgZWwgZGlzZcOxby4KICAgIFBvciBlamVtcGxvLCBzZSBwdWVkZSBhc2VndXJhciBxdWUgZWwgc3VqZXRvIGV4cGVyaW1lbnRhbCBlc3TDqSBleHB1ZXN0byBhIGxhcyBtaXNtYXMgY29uZGljaW9uZXMuCiAgICBDb250cm9sIGV4cGVyaW1lbnRhbC4KCi0gICBFbiBsb3MgbcOpdG9kb3Mgb2JzZXJ2YWNpb25hbGVzIHNlIHB1ZWRlIGFwcm94aW1hciB1biBjb250cm9sIGV4cGVyaW1lbnRhbCBhZ3J1cGFuZG8gbGFzIG9ic2VydmFjaW9uZXMgZW4gZ3J1cG9zIGRlIHZhbG9yZXMgaWd1YWxlcyBvIHNpbWlsYXJlcyBkZSBsYXMgdmFyaWFibGVzIGRlIGNvbnRyb2wuCiAgICBDb250cm9sIGVzdGFkw61zdGljby4KCi0gICBFbiBsYSBwcsOhY3RpY2EsIHNlIGFuYWxpemEgbGEgcmVsYWNpw7NuIGVudHJlIFggLSBZIHBhcmEgdmFsb3JlcyBzaW1pbGFyZXMgbyBpZ3VhbGVzIGRlIHVuYSB2YXJpYWJsZSBaLgogICAgRGUgZXN0YSBtYW5lcmEgc2UgZWxpbWluYSBsYSBpbmZsdWVuY2lhIGRlIFogZW4gbGEgcmVsYWNpw7NuIGVudHJlIFggLSBZLgogICAgRXMgdW4gcGFzbyBlbiBlbCBlc3RhYmxlY2ltaWVudG8gZGUgWCAtXD4gWS4KCi0gICBTaSBsYSByZWxhY2nDs24gZW50cmUgWCAtIFkgZGVzYXBhcmVjZSBjdWFuZG8gc2UgY29udHJvbGEgcG9yIFosIHNlIGRpY2UgcXVlIGxhIHJlbGFjacOzbiBlcmEgZXNww7pyZWEuCgpQYXJhIGRhciB1biBlamVtcGxvLCB1c2FyZW1vcyBsb3MgZGF0b3MgZGUgbGEgZWxlY2Npw7NuIDIwMTYuCkVzdGEgYmFzZSBkZSBkYXRvcyBpbmNsdXllIHVuYSB2YXJpYWJsZSBkZSBQQkkgcGVyIGPDoXBpdGEgZW4gY2FkYSBkZXBhcnRhbWVudG8uCkNvbiBlc3RhIHZhcmlhYmxlIHNlIGhhIGNyZWFkbyBvdHJhIHZhcmlhYmxlIGFncnVwYW5kbyBlbCBQQkkgZW4gMyBncnVwb3M6IGFsdG8sIG1lZGlvLCBiYWpvLgoKYGBge3IgYmFzZX0KbGlicmFyeShyaW8pCmRhdGExNiA9IGltcG9ydCgiYmFzZXMvZGF0b3MyMDE2X3YzLnNhdiIpCmBgYAoKRW4gcHJpbWVyIGx1Z2FyLCBoYXJlbW9zIHVuYSBpbnNwZWNjacOzbiB2aXN1YWwgZGUgbGEgcmVsYWNpw7NuIGVudHJlIGVsIGFjY2VzbyBhIGludGVybmV0IHkgZWwgdm90byBhIFBQSywgbWVkaWFudGUgdW4gZ3LDoWZpY28gZGUgZGlzcGVyc2nDs24uCkVzdGEgZ3LDoWZpY28gaW5jbHVpcsOhIHVuYSB0ZXJjZXJhIHZhcmlhYmxlLCBQQkkgcGVyIGPDoXBpdGEsIHF1ZSBzZSB2aXN1YWxpemFyw6EgY29tbyB1biBjb2xvciBkZSBjYWRhIG9ic2VydmFjacOzbi4KCmBgYHtyIGRpc3BlcnNpb24xfQpsaWJyYXJ5KGdncGxvdDIpCmdncGxvdChkYXRhMTYsIGFlcyh4PVVzb19pbnRlcm5ldCwgeT1Wb3RvX1BQS18yMDE2XzEpKSsKICBnZW9tX3BvaW50KGFlcyhjb2xvcj1wYmlwY19ncnVwb3MpKSsKICBnZW9tX3Ntb290aChtZXRob2Q9bG0sIHNlPUYpKyAjYWdyZWdhciBsw61uZWEgZGUgdGVuZGVuY2lhCiAgZ2VvbV90ZXh0KGRhdGE9ZGF0YTE2LCBhZXMobGFiZWw9RHB0byksIAogICAgICAgICAgICBjZXg9MiwgbnVkZ2VfeSA9IDEuMSwgY2hlY2tfb3ZlcmxhcCA9IFQpKyAjUGF0YSBldGlxdWV0YXIgbG9zIHB1bnRvcywgZGFybGVzIHVuIHRhbWHDsW8sIHViaWNhY2nDs24geSBwcmV2ZW5pciBxdWUgc2Ugc29icmVwb25nYW4KICBsYWJzKHg9IlBvcmNlbnRhamUgZGUgdXNvIGRlIGludGVybmV0IiwgCiAgICAgICB5PSJWb3RvIGEgUFBLICgxZXJhIHZ1ZWx0YSAyMDE2KSIpKyAjcGFyYSBldGlxdWV0YXIgbG9zIGVqZXMKICB0aGVtZV9saWdodCgpCmBgYAoKYGBge3J9CmxpYnJhcnkodGlkeXZlcnNlKQpkYXRhMTYgPSBkYXRhMTYgfD4KICBtdXRhdGUocGJpZ3J1cG8gPSBmYWN0b3IocGJpcGNfZ3J1cG9zLCBsYWJlbHM9YygiQmFqbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk1lZGlvIiwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkFsdG8iKSkpCmBgYAoKYGBge3IgZGlzcGVyc2lvbjJ9CmdncGxvdChkYXRhMTYsIGFlcyh4PVVzb19pbnRlcm5ldCwgeT1Wb3RvX1BQS18yMDE2XzEpKSsKICBnZW9tX3BvaW50KGFlcyhjb2xvcj1wYmlncnVwbykpKwogIGdlb21fc21vb3RoKG1ldGhvZD1sbSwgc2U9RikrICNhZ3JlZ2FyIGzDrW5lYSBkZSB0ZW5kZW5jaWEKICBnZW9tX3RleHQoZGF0YT1kYXRhMTYsIGFlcyhsYWJlbD1EcHRvKSwgCiAgICAgICAgICAgIGNleD0yLCBudWRnZV95ID0gMS4xLCBjaGVja19vdmVybGFwID0gVCkrICNQYXRhIGV0aXF1ZXRhciBsb3MgcHVudG9zLCBkYXJsZXMgdW4gdGFtYcOxbywgdWJpY2FjacOzbiB5IHByZXZlbmlyIHF1ZSBzZSBzb2JyZXBvbmdhbgogIGxhYnMoeD0iUG9yY2VudGFqZSBkZSB1c28gZGUgaW50ZXJuZXQiLCAKICAgICAgIHk9IlZvdG8gYSBQUEsgKDFlcmEgdnVlbHRhIDIwMTYpIikrICNwYXJhIGV0aXF1ZXRhciBsb3MgZWplcwogIHRoZW1lX2xpZ2h0KCkKYGBgCgpFbCBjb2xvciBkZSBjYWRhIHB1bnRvIHJlcHJlc2VudGEgdW4gbml2ZWwgZGUgUEJJIHBlciBjw6FwaXRhOiBuZWdybyBzaWduaWZpY2EgUEJJIHBlciBjw6FwaXRhIGRlcGFydGFtZW50YWwgYmFqbywgcm9qbyBzaWduaWZpY2EgUEJJIHBlciBjw6FwaXRhIGRlcGFydGFtZW50YWwgbWVkaW8geSB2ZXJkZSBzaWduaWZpY2EgUEJJIHBlciBjw6FwaXRhIGRlcGFydGFtZW50YWwgYWx0by4KClBhcmEgYW5hbGl6YXIgdmlzdWFsbWVudGUgbGEgcmVsYWNpw7NuIGVudHJlIGFjY2VzbyBhIGludGVybmV0IHkgdm90byBhIFBQSywgY29udHJvbGFuZG8gcG9yIGVsIFBCSSBwZXIgY8OhcGl0YSwgc2UgcHVlZGUgYW5hbGl6YXIgZXZhbHVhciBsYSByZWxhY2nDs24gZW50cmUgWCAtIFkgcGFyYSBncnVwb3MgZGUgWi4KRXMgZGVjaXIsIHNlIHB1ZWRlIGV2YWx1YXIgdmlzdWFsbWVudGUgbGEgcmVsYWNpw7NuIGVudHJlIGFjY2VzbyBhIGludGVybmV0IC0gdm90byBhIFBQSywgZW4gY2FkYSBncnVwbyBkZSBjb2xvci4KCsK/Q3XDoWwgZXMgbGEgcmVsYWNpw7NuIGVudHJlIFggLSBZIHBhcmEgZWwgZ3J1cG8gZGUgb2JzZXJ2YWNpb25lcyBlbiByb2pvIChQQkkgcGVyIGPDoXBpdGEgZGVwYXJ0YW1lbnRhbCBiYWpvKT8KU2Ugb2JzZXJ2YSB1bmEgcmVsYWNpw7NuIHBvc2l0aXZhLCBhdW5xdWUgdGVudWUuCgrCv0N1w6FsIGVzIGxhIHJlbGFjacOzbiBlbnRyZSBYIC0gWSBwYXJhIGVsIGdydXBvIGRlIG9ic2VydmFjaW9uZXMgZW4gdmVyZGUgKFBCSSBwZXIgY8OhcGl0YSBkZXBhcnRhbWVudGFsIG1lZGlvKT8KU2Ugb2JzZXJ2YSB1bmEgcmVsYWNpw7NuIG5lZ2F0aXZhLCBjb250cmFyaW8gYSBsYSBoaXDDs3Rlc2lzIHBsYW50ZWFkYS4KCsK/Q3XDoWwgZXMgbGEgcmVsYWNpw7NuIGVudHJlIFggLSBZIHBhcmEgZWwgZ3J1cG8gZGUgb2JzZXJ2YWNpb25lcyBlbiBhenVsIChQQkkgcGVyIGPDoXBpdGEgZGVwYXJ0YW1lbnRhbCBhbHRvKT8KU2Ugb2JzZXJ2YSB1bmEgcmVsYWNpw7NuIHBvc2l0aXZhLgoKUHJlZ3VudGEgZmluYWw6IMK/c2UgbWFudGllbmUgbGEgcmVsYWNpw7NuIGVudHJlIGFjY2VzbyBhIGludGVybmV0IHkgdm90byBhIFBQSyBlbiBjYWRhIGdydXBvIGRlIFBCSSBwZXIgY8OhcGl0YT8KCkVuIHVuIGV4dHJlbW8sIGxhIHJlbGFjacOzbiBlbnRyZSBYIC0gWSBzZSBtYW50aWVuZSAoZW4gbGEgbWlzbWEgZGlyZWNjacOzbikgcGFyYSBjYWRhIGdydXBvIGRlIFouClNpIGVzdG8gZXMgYXPDrSwgc2UgZGljZSBxdWUgbGEgcmVsYWNpw7NuIGVudHJlIFggLSBZIHNlIG1hbnRpZW5lIGNvbnRyb2xhbmRvIHBvciBaLgoKRW4gZWwgb3RybyBleHRyZW1vcywgbGEgcmVsYWNpw7NuIGVudHJlIFggLSBZIG5vIHNlIG1hbnRpZW5lIHBhcmEgbmluZ8O6biBncnVwbyBkZSBaLgpTaSBlc3RvIGVzIGFzw60sIHNlIGRpY2UgcXVlIGxhIHJlbGFjacOzbiBlbnRyZSBYIC0gWSBlcyB1bmEgcmVsYWNpw7NuIGVzcMO6cmVhLCBxdWUgY3VhbmRvIHNlIGNvbnRyb2xhIHBvciBaLCBlc3RhIHJlbGFjacOzbiBiaXZhcmlhZGEgZGVzYXBhcmVjZS4KCkVuIGxhIHByw6FjdGljYSwgZWwgYW7DoWxpc2lzIG11bHRpdmFyaWFkbyBhbmFsaXphIHNpIGxhIHJlbGFjacOzbiBlbnRyZSBYIC0gWSBzZSBtYW50aWVuZSAiZW4gcHJvbWVkaW8iIHBhcmEgY2FkYSBncnVwbyBkZSBaLgpQYXJhIGhhY2VyIGVzdGEgZXZhbHVhY2nDs24gbm8gZXMgc3VmaWNpZW50ZSAoeSBhIHZlY2VzLCBubyBlcyBuZWNlc2FyaW8pIGVsIGFuw6FsaXNpcyB2aXN1YWwgZW4gZWwgZGlhZ3JhbWEgZGUgZGlzcGVyc2nDs24sIHNpbm8gcXVlIGhhY2UgZmFsdGEgdW4gbW9kZWxvIGVzdGFkw61zdGljby4KCiMgTW9kZWxvIGRlIHJlZ3Jlc2nDs24gbGluZWFsIG3Dumx0aXBsZQoKU2UgdXNhIHVuIG1vZGVsbyBkZSByZWdyZXNpw7NuIGxpbmVhbCBtw7psdGlwbGUgcGFyYSBlbCBjw6FsY3VsbyBkZSBsb3MgZWZlY3RvcyBkZSB2YXJpb3MgcHJlZGljdG9yZXMgZW4gdW5hIHZhcmlhYmxlIGRlcGVuZGllbnRlIG51bcOpcmljYSBlbiB1biBtaXNtbyBtb2RlbG8uClBvciBlamVtcGxvLCBzaSBxdWlzacOpcmFtb3MgZXZhbHVhciBsYSByZWxhY2nDs24gZW50cmUgbGEgdmFyaWFibGUgYWNjZXNvIGEgaW50ZXJuZXQgeSBsYSB2YXJpYWJsZSBQQkkgcGVyIGPDoXBpdGEgZW4gZWwgdm90byBhIFBQSywgc2UgcHVlZGUgaW5jbHVpciBhbWJhcyB2YXJpYWJsZXMgaW5kZXBlbmRpZW50ZXMgZW4gdW4gbWlzbW8gbW9kZWxvLgoKRW4gZXNlIGNhc28sIGVsIG1vZGVsbyBzZXLDrWE6ICRcaGF0e1l9ID0gXGhhdHtcYWxwaGF9ICsgXGhhdHtcYmV0YV8xfSpYXzErXGhhdHtcYmV0YV8yfSpYXzIkCgpTaSBsYSByZWxhY2nDs24gYml2YXJpYWRhIHNlIGV2YWzDumEgZW4gdW4gcGxhbm8gY2FydGVzaWFubywgY3VhbmRvIHNlIGluY2x1eWUgdW5hIHRlcmNlcmEgdmFyaWFibGUsIGVsIGFuw6FsaXNpcyBwYXNhIGRlIHVuIHBsYW5vIGNhcnRlc2lhbm8gYSB1biBlc3BhY2lvIGNhcnRlc2lhbm8uClBhcmEgZmluZXMgZXhwbGljYXRpdm9zLCBlc3RvIHNlIHB1ZWRlIGdyYWZpY2FyIGVuIHVuIGRpYWdyYW1hIGRlIGRpc3BlcnNpw7NuIGVuIHRyZXMgZGltZW5zaW9uZXMuCgpgYGB7ciAzZH0KI0VzdGUgY8OzZGlnbyBOTyBzZSBldmFsdWFyw6EKbGlicmFyeShzY2F0dGVycGxvdDNkKQpzY2F0dGVycGxvdDNkKHg9ZGF0YTE2JFVzb19pbnRlcm5ldCwgeT1kYXRhMTYkVm90b19QUEtfMjAxNl8xLCB6PWRhdGExNiRwYmlwY18yMDE0KQpwYWlycyhkYXRhMTYkVXNvX2ludGVybmV0IH4gZGF0YTE2JFVzb19pbnRlcm5ldCtkYXRhMTYkcGJpcGNfMjAxNCkKYGBgCgpFbiBlc3RlIGNhc28sIGNhZGEgcHVudG8gZXN0YXLDrWEgdWJpY2FkbyBkZSBhY3VlcmRvIGEgbG9zIHZhbG9yZXMgZW4gbGFzIDMgdmFyaWFibGVzLgpObyBlcyBmw6FjaWwgdmlzdWFsaXphciBsYSByZWxhY2lvbmVzIHBhcmNpYWxlcyBlbnRyZSBYIC0gWSB5IGVudHJlIFogLSBZLgpVbmEgbWVqb3IgdmlzdWFsaXphY2nDs24gZXMgbWlyYW5kbyBsb3MgbGFkb3MgZGVsIGN1Ym8uCgpVbm8gcG9kcsOtYSBwZW5zYXIgcXVlIGVzIHN1ZmljaWVudGUgY29uIHJlYWxpemFyIGRvcyByZWdyZXNpb25lcyBsaW5lYWxlcyBzaW1wbGVzIGVudHJlIGNhZGEgdmFyaWFibGUgaW5kZXBlbmRpZW50ZSBjb24gbGEgZGVwZW5kaWVudGUuClNpIGxvIGhhY2Vtb3MsIHRlbmRyw61hbW9zIGRvcyBtb2RlbG9zIHNpbXBsZXMuClBhcmEgbGEgcmVsYWNpw7NuIG9yaWdpbmFsIGVudHJlIGFjY2VzbyBhIGludGVybmV0IHkgdm90byBhIFBQSywgc2UgdGllbmUuCgpgYGB7ciBvbHMgc2ltcGxlfQptb2RlbG8xID0gbG0oZGF0YTE2JFZvdG9fUFBLXzIwMTZfMSB+IGRhdGExNiRVc29faW50ZXJuZXQpCnN1bW1hcnkobW9kZWxvMSkKYGBgCgpZIHBhcmEgbGEgc2VndW5kYSB2YXJpYWJsZSwgc2UgdGllbmUuCgpgYGB7ciBvbHMgc2ltcGxlIDJ9Cm1vZGVsbzIgPSBsbShkYXRhMTYkVm90b19QUEtfMjAxNl8xIH4gZGF0YTE2JHBiaXBjXzIwMTQpCnN1bW1hcnkobW9kZWxvMikKYGBgCgpgYGB7cn0KbW9kZWxvMyA9IGxtKGRhdGExNiRWb3RvX1BQS18yMDE2XzEgfiBkYXRhMTYkQW5hbGZhYmV0aXNtb18yMDE0KQpzdW1tYXJ5KG1vZGVsbzMpCmBgYAoKTWlyYW5kbyBsb3MgcmVzdWx0YWRvcyBkZSBhbWJvcyBtb2RlbG9zIGxpbmVhbGVzIHNpbXBsZXMsIHNlIHRpZW5lIHF1ZSBhbWJhcyB2YXJpYWJsZXMsIHRhbnRvIGFjY2VzbyBhIGludGVybmV0IGNvbW8gUEJJLCBzb24gc2lnbmlmaWNhdGl2YXMuCkFtYmFzIHRpZW5lbiB1biBlZmVjdG8gZGlyZWN0bywgZXMgZGVjaXIsIGEgbWF5b3IgYWNjZXNvIGEgaW50ZXJuZXQsIG1heW9yIHZvdG8gYSBQUEsgZW4gcHJvbWVkaW8sIHkgYSBtYXlvciBQQkkgcGVyIGPDoXBpdGEsIG1heW9yIHZvdG8gYSBQUEsgZW4gcHJvbWVkaW8uCgpFc3RvcyBtb2RlbG9zLCBzaW4gZW1iYXJnbywgYW5hbGl6YW4gZWwgaW1wYWN0byBpbmRpdmlkdWFsIGRlIGNhZGEgdmFyaWFibGUsIHNpbiBuaW5nw7puIHRpcG8gZGUgY29udHJvbCBlc3RhZMOtc3RpY28uCkxvcyBtb2RlbG9zIGxpbmVhbGVzIHNpbXBsZSwgZW4gZXNlIHNlbnRpZG8sIGVzdMOhbiBtw6FzIGNlcmNhIGRlIHVuIGFuw6FsaXNpcyBkZSBjb3JyZWxhY2nDs24sIHF1ZSBkZSB1bm8gZGUgY2F1c2FsaWRhZC4KClBhcmEgdHJhdGFyIGRlIGFjZXJjYXJub3MgYWwgaWRlYWwgZGUgY2F1c2FsaWRhZCwgc2UgdGllbmUgcXVlIGNvbnRyb2xhciBwb3IgcG9zaWJsZXMgZXhwbGljYWNpb25lcyBhbHRlcm5hdGl2YXMuCkxhIGRpc2N1c2nDs24gY29uIHJlc3BlY3RvIGEgbGEgZWxlY2Npw7NuIDIwMTYgcGxhbnRlYWJhIHF1ZSBlbCB2b3RvIGEgUFBLIHRhbWJpw6luIHRlbsOtYSB1biBjb21wb25lbnRlIGVjb27Ds21pY28uClNlIGVzcGVjdWxhYmEgcXVlIGxvcyBzZWN0b3JlcyBtw6FzIGJlbmVmaWNpYWRvcyBkZWwgYm9vbSBlY29uw7NtaWNvIHBvZMOtYW4gdm90YXIgZW4gbWF5b3IgbWVkaWRhIGEgZmF2b3IgZGUgUFBLLgpTaSBlc3RvIGVzIGFzw60sIGxhIHZhcmlhYmxlIGRlIFBCSSBwZXIgY8OhcGl0YSBwdWVkZSByZWNvZ2VyIGVzdGUgZmVuw7NtZW5vLgoKTGEgaWRlYSBlcyBldmFsdWFyIHNpIGxhIHJlbGFjacOzbiBlbnRyZSBhY2Nlc28gYSBpbnRlcm5ldCB5IHZvdG8gYSBQUEsgc2UgbWFudGllbmUgY29udHJvbGFuZG8gcG9yIHVuYSB2YXJpYWJsZSBlY29uw7NtaWNhLgpQYXJhIGVzdG8sIHNlIHJlYWxpemEgdW4gbW9kZWxvIGxpbmVhbCBtw7psdGlwbGUgdXNhbmRvIGVsIHZvdG8gYSBQUEsgY29tbyB2YXJpYWJsZSBkZXBlbmRpZW50ZSB5IGVsIGFjY2VzbyBhIGludGVybmV0IHkgZWwgUEJJIHBlciBjw6FwaXRhIGNvbW8gdmFyaWFibGVzIGluZGVwZW5kaWVudGVzLCBlbiB1biBtaXNtbyBtb2RlbG8uCkVsIGNvbWFuZG8gYGxtYCBwZXJtaXRlIGluY2x1aXIgdmFyaW9zIHByZWRpY3RvcmVzIGluZGVwZW5kaWVudGVzIGVuIHVuIG1pc21vIG1vZGVsbyBjb24gZWwgc8OtbWJvbG8gKy4KCmBgYHtyIG9scyBtdWx0aXBsZX0KbW9kZWxvNCA9IGxtKFZvdG9fUFBLXzIwMTZfMSB+IFVzb19pbnRlcm5ldCArIEFuYWxmYWJldGlzbW9fMjAxNCArIHBiaXBjXzIwMTQsIGRhdGE9ZGF0YTE2KQpzdW1tYXJ5KG1vZGVsbzQpCmBgYAoKIyBMZXllbmRvIGVsIG1vZGVsbwoKIyMgwr9FcyB2w6FsaWRvIGVsIG1vZGVsbz8KCkNvbW8gYWhvcmEgdGVuZW1vcyBkb3MgdmFyaWFibGVzIGluZGVwZW5kaWVudGVzLCBsYSB2YWxpZGV6IGRlbCBtb2RlbG8geWEgbm8gZGVwZW5kZSBzb2xvIGRlIGxhIHJlbGFjacOzbiBkZSB1bmEgdmFyaWFibGUgaW5kZXBlbmRpZW50ZSBjb24gbGEgZGVwZW5kaWVudGUuClBhcmEgZXZhbHVhciBsYSB2YWxpZGV6IGRlbCBtb2RlbG8gc2UgdGllbmUgcXVlIGhhY2VyIHVuYSBldmFsdWFjacOzbiBnZW5lcmFsLgpFc3RhIGV2YWx1YWNpw7NuIHBsYW50ZWEgdW5hIGhpcMOzdGVzaXMgY2VybyBxdWUgdG9kYXMgbGFzIHBlbmRpZW50ZXMgKG8gY29lZmljaWVudGVzKSBzb24gaWd1YWxlcyBhIGNlcm8uCgokSDA6IFxiZXRhXzEgPSBcYmV0YV8yID0gXGJldGFfMyA9Li4uXGJldGFfbiA9IDAkCgpMYSBoaXDDs3Rlc2lzIGFsdGVybmF0aXZhIGluZGljYSBxdWUgYWwgbWVub3MgdW5hIHBlbmRpZW50ZSBlcyBkaWZlcmVudGUgZGUgY2VybywgbG8gcXVlIGluZGljYXLDrWEgcXVlIGFsIG1lbm9zIHVuYSB2YXJpYWJsZSBpbmRlcGVuZGllbnRlIHRpZW5lIHJlbGFjacOzbiBjb24gbGEgdmFyaWFibGUgZGVwZW5kaWVudGUuCgpQYXJhIGV2YWx1YXIgZXN0YSBoaXDDs3Rlc2lzIHNlIGFuYWxpemEgbG9zIHJlc3VsdGFkb3MgZGUgbGEgcHJ1ZWJhIEYgKGVuIGxhIMO6bHRpbWEgbMOtbmVhIGRlIHJlc3VsdGFkb3MgZGVsIG1vZGVsbykuCkVsIGVzdGFkw61zdGljbyBGID0gNy43NCB0aWVuZSB1biBwLXZhbHVlIGFzb2NpYWRvIGRlIDAuMDAzMC4KRXN0ZSBwLXZhbHVlIGVzIG1lbm9yIGRlIDAuMDUsIHBvciBsbyBxdWUgcG9kZW1vcyByZWNoYXphciBsYSBIMCB5IGFmaXJtYXIgcXVlIGFsIG1lbm9zIHVuIGNvZWZpY2llbnRlIGRlYmUgc2VyIGRpZmVyZW50ZSBkZSBjZXJvLgoKIyMgVGVzdCBkZSBpbmZlcmVuY2lhOiDCv2hheSByZWxhY2nDs24gZW50cmUgbGFzIFZJcyB5IGxhIFZEPwoKRXN0YSBwcmVndW50YSBzZSByZXNwb25kZSBwYXJhIGNhZGEgdmFyaWFibGUgaW5kZXBlbmRpZW50ZSwgZXZhbHVhY2nDs24gcXVlIHNlIGhhY2UgZGVudHJvIGRlIHVuIG1vZGVsbyBsaW5lYWwgbXVsdGl2YXJpYWRvLCBkb25kZSBzZSBjb250cm9sYSBwb3IgZWwgcmVzdG8gZGUgdmFyaWFibGVzLgoKQ2FkYSB2YXJpYWJsZSBpbmRlcGVuZGllbnRlIHRpZW5lIHVuYSBmaWxhIGRlIHJlc3VsdGFkb3MgY29uIHN1IHByb3BpYSBwcnVlYmEgZGUgaW5kZXBlbmRlbmNpYS4KRXN0YSBwcnVlYmFzIHRpZW5lIGxhcyBzaWd1aWVudGVzIGhpcMOzdGVzaXM6CgokSDA6IFxiZXRhXzEgPSAwJCB5ICRIMDogXGJldGFfMiA9IDAkCgpQYXJhIGxhIHZhcmlhYmxlIHVzbyBkZSBpbnRlcm5ldCwgbGEgZmlsYSBjb3JyZXNwb25kaWVudGUgbm9zIGluZGljYSBxdWUgdGVuZW1vcyB1biBjb2VmaWNpZW50ZSBkZSAwLjE4Ni4KUGFyYSBlc3RhIHZhcmlhYmxlIGVsIGVzdGFkw61zdGljbyBkZSBsYSBwcnVlYmEgdCB0aWVuZSB1biB2YWxvciBkZSAxLjM2NywgY29uIHVuIHAtdmFsdWUgZGUgMC4xODYuCkVzdGUgcC12YWx1ZSBlcyBtYXlvciBkZSAwLjA1LCBwb3IgbG8gcXVlIGZhbGxhbW9zIGVuIHJlY2hhemFyIGxhIEgwLgpFcyBkZWNpciwgc2UgdGllbmUgMTguNiUgZGUgcHJvYmFiaWxpZGFkZXMgZGUgdGVuZXIgdW4gY29lZmljaWVudGUgZGUgMC4xOCwgc2kgZWwgdmVyZGFkZXJvIHZhbG9yIGRlbCBwYXLDoW1ldHJvIGVzIDAuCkVuIHJlc3VtZW4sIGNvbiBlc3RvcyB2YWxvcmVzLCBubyBlbmNvbnRyYW1vcyB1bmEgcmVsYWNpw7NuIGVudHJlIGFjY2VzbyBhIGludGVybmV0IHkgdm90byBhIFBQSy4KClBhcmEgbGEgdmFyaWFibGUsIFBCSSBwZXIgY8OhcGl0YSwgdGVuZW1vcyB1biBjb2VmaWNpZW50ZSBkZSAwLjAwMDMsIGNvbiB1biBlc3RhZMOtc3RpY28gZGUgbGEgcHJ1ZWJhIHQgZGUgMS43NCB5IHVuIHAtdmFsdWUgZGUgMC4wOTYuCkNvbiBlc3RlIHAtdmFsdWUgbm8gcG9kZW1vcyByZWNoYXphciBsYSBIMCBhIHVuIHZhbG9yIGNyw610aWNvIGRlIDAuMDUpLgpFc3RlIHAtdmFsdWUgbm8gZXMgbWVub3MgYSAwLjA1LCBwb3IgbG8gcXVlIG5vIHNlcsOtYSBzaWduaWZpY2F0aXZvLgpQZXJvLCBzaSBzZSByZWxhamEgZWwgY3JpdGVyaW8sIGVzdGUgcC12YWx1ZSBlcyBtZW5vciBhIDAuMTAuCkVzIGRlY2lyLCBzZSB0aWVuZSA5LjYlIGRlIHByb2JhYmlsaWRhZGVzIGRlIG9ic2VydmFyIHVuYSBwZW5kaWVudGUgZGUgMC4wMDAzIHNpIGxhIHZlcmRhZGVyYSBwZW5kaWVudGUgZnVlcmEgMC4KUG9kZW1vcyBhc3VtaXIgcXVlIGVzdGEgcHJvYmFiaWxpZGFkIGVzIGJhamEsIHBvciBsbyBxdWUgcG9kZW1vcyBjb25jbHVpciBxdWUgc8OtIGV4aXN0ZSB1bmEgcmVsYWNpw7NuIGVudHJlIFBCSSB5IHZvdG8gYSBQUEsgYWwgMC4xIGRlIHZhbG9yIGNyw610aWNvLgoKRW4gY29uY2x1c2nDs24sIGxhIHJlbGFjacOzbiBlbnRyZSBhY2Nlc28gYSBpbnRlcm5ldCB5IHZvdG8gYSBQUEssIHF1ZSBzZSBoYWLDrWEgZW5jb250cmFkbyBlbiBlbCBhbsOhbGlzaXMgYml2YXJpYWRvLCBubyBzZSBtYW50aWVuZSBlbiB1biBhbsOhbGlzaXMgbXVsdGl2YXJpYWRvLCBjdWFuZG8gc2UgY29udHJvbGEgcG9yIGxhIHZhcmlhYmxlIFBCSS4KTXV5IHByb2JhYmxlbWVudGUgZXN0ZW1vcyBoYWJsYW5kbyBkZSB1bmEgcmVsYWNpw7NuIGVzcMO6cmVhLCBwdWVzIFBCSSBwb2Ryw61hIHRlbmVyIHVuIGVmZWN0byB0YW50byBlbiBlbCBhY2Nlc28gYSBpbnRlcm5ldCAoZGVwYXJ0YW1lbnRvcyBtw6FzIHJpY29zLCB0aWVuZW4gZmFtaWxpYXMgcXVlIHB1ZWRlbiBwYWdhciBwb3IgZWwgc2VydmljaW8gZGUgaW50ZXJuZXQpLCBjb21vIGVuIGVsIHZvdG8gYSBQUEsgKGRlcGFydGFtZW50b3MgbcOhcyByaWNvcywgdm90YW4gZW4gbWF5b3IgbWVkaWRhIGEgUFBLKS4KCiMjIERpcmVjY2nDs24gZGUgbGEgcmVsYWNpw7NuCgpEZSBsYSBtaXNtYSBtYW5lcmEgcXVlIGVuIGFuw6FsaXNpcyBiaXZhcmlhZG8sIGxhIGRpcmVjY2nDs24gZGUgbGEgcmVsYWNpw7NuIGVudHJlIGxhcyB2YXJpYWJsZXMgaW5kZXBlbmRpZW50ZXMgeSBsYSBkZXBlbmRpZW50ZSBlc3TDoSBtYXJjYWRvIHBvciBlbCBzaWdubyBkZWwgY29lZmljaWVudGUuCgpFbiBlc3RlIGNhc28sIHNvbG8gc2UgYW5hbGl6YSBlbCBzaWdubyBkZWwgY29lZmljaWVudGUgZGUgbGEgdmFyaWFibGUgUEJJLCBwdWVzIGVzIGxhIMO6bmljYSBzaWduaWZpY2F0aXZhIGFsIDAuMTAuCkVsIHNpZ25vIGRlbCBjb2VmaWNpZW50ZSBlcyBwb3NpdGl2byAoKyksIGxvIHF1ZSBpbmRpY2EgcXVlIGRlcGFydGFtZW50b3MgY29uIHVuIG1heW9yIFBCSSBwZXIgY8OhcGl0YSB0ZW5kcsOtYW4gdW4gbWF5b3IgcG9yY2VudGFqZSBkZSB2b3RvIGEgUFBLIGVuIHByb21lZGlvLgoKIyMgQWp1c3RlIGRlbCBtb2RlbG8KCkRlIGxhIG1pc21hIG1hbmVyYSBxdWUgZW4gZWwgYW7DoWxpc2lzIGJpdmFyaWFkbywgZWwgYWp1c3RlIGRlbCBtb2RlbG8gc2UgZW50aWVuZGUgY29tbyBlbCBwb3JjZW50YWplIGRlIGxhIHZhcmlhY2nDs24gdG90YWwgZGUgbGEgdmFyaWFibGUgZGVwZW5kaWVudGUgZXhwbGljYWRhIHBvciBsYXMgdmFyaWFibGVzIGluZGVwZW5kaWVudGVzLgpFc3RlIGRhdG8gc2Ugb2J0aWVuZSBjb24gZWwgJFJeMiQuCgpFbiBudWVzdHJvIGVqZW1wbG8gc2UgdGllbmUgdW4gJFJeMiBhanVzdGFkbyA9IDAuNDckLgpFc3RhIGRhdG8gaW5kaWNhcsOtYSBxdWUgZWwgbW9kZWxvIHF1ZSBpbmNsdXllIGxhcyB2YXJpYWJsZXMgYWNjZXNvIGEgaW50ZXJuZXQgeSBQQkkgcGVyIGPDoXBpdGEgZXhwbGljYW4gZWwgNDclIGRlIGxhIHZhcmlhY2nDs24gdG90YWwgZGVsIHZvdG8gYSBQUEsuCgpFbCAkUl4yJCBhanVzdGFkbyBzZSB1c2EgY3VhbmRvIHNlIHF1aWVyZSBjb21wYXJhciBlbnRyZSBkaWZlcmVudGVzIG1vZGVsb3MsIHlhIHNlYSBwb3JxdWUgc2UgdXNhbiBkaWZlcmVudGVzIHZhcmlhYmxlcyBvIGRpZmVyZW50ZSBuw7ptZXJvIGRlIHZhcmlhYmxlcy4KRXN0byBlcyBpbXBvcnRhbnRlIGN1YW5kbyBzZSBjb21wYXJhciBtb2RlbG9zIGNvbiBkaWZlcmVudGUgbsO6bWVybyBkZSB2YXJpYWJsZXMgaW5kZXBlbmRpZW50ZXMsIHBvcnF1ZSBlbCAkUl4yJCB0aWVuZSBsYSBjYXJhY3RlcsOtc3RpY2EgZGUgYXVtZW50YXIgY3VhbmRvIHNlIGluY2x1eWVuIG3DoXMgdmFyaWFibGVzIGluZGVwZW5kaWVudGVzLgpFbCAkUl4yJCBhanVzdGFkbyBjb250cm9sYSBwb3IgZXN0YSBpbmZsYWNpw7NuIGFydGlmaWNpYWwuCgojIyBQcmVkaWNjacOzbgoKUGFyYSBsYSBwcmVkaWNjacOzbiBzZSB0aWVuZSBxdWUgY29uc3RydWlyIGxhIGVjdWFjacOzbiBkZWwgbW9kZWxvLgpFc3RhIGVjdWFjacOzbiBzZSBjb25zdHJ1eWUgY29uIGxvcyB2YWxvcmVzIGRlIGxvcyBjb2VmaWNpZW50ZXMgZGUgYW1iYXMgdmFyaWFibGVzLCBhc8OtIGFsZ3VuYSBkZSBlbGxhcyBubyBoYXlhIHNhbGlkbyBzaWduaWZpY2F0aXZhLgpBIGVzdG8gZGUgc2UgYWdyZWdhIGVsIHZhbG9yIGRlIGxhIGNvbnN0YW50ZS4KCkVuIG51ZXN0cm8gZWplbXBsbyBzZSB0aWVuZSBsYSBzaWd1aWVudGUgZWN1YWNpw7NuLCBzaWVuZG8gWSBlbCB2b3RvIGEgUFBLLCBYMSBlbCBhY2Nlc28gYSBpbnRlcm5ldCB5IFgyIGVuIFBCaSBwZXIgY8OhcGl0YToKCiQkXGhhdHtZfSA9IDQuNzEgKyAwLjE4KlhfMSswLjAwMDMqWF8yJCQKClBhcmEgaGFsbGFyIGVsIHZvdG8gZXN0aW1hZG8gYSBQUEssIHNlIHRpZW5lIHF1ZSBhZ3JlZ2FyIHZhbG9yZXMgZGUgbGFzIGRvcyB2YXJpYWJsZXMgaW5kZXBlbmRpZW50ZXMuClBhcmEgcG9kZXIgYXByb3hpbWFyIHZhbG9yZXMgZXN0w6FuZGFyIGRlIGVzdGFzIHZhcmlhYmxlcywgZXN0YXMgc2UgcHVlZGVuIGRlc2NyaWJpci4KCmBgYHtyIGRlc2NyaWJpcn0Kc3VtbWFyeShkYXRhMTYkVXNvX2ludGVybmV0KQpzdW1tYXJ5KGRhdGExNiRwYmlwY18yMDE0KQpgYGAKClBvciBsbyB0YW50bywgc2kgcXVlcmVtb3MgY2FsY3VsYXIgdW4gdm90byBwcm9tZWRpbyBlc3RpbWFkbyBhIFBQSywgc2UgcG9kcsOtYSByZWVtcGxhemFyIFgxPTMyLjggeSBYMj0xNDk0Ni4KCiQkXGhhdHtZfSA9IDQuNzEgKyAwLjE4KjMyLjgrMC4wMDAzKjE0OTQ2ID0gMTUuMSAlICQkCgpFbiBjb25jbHVzacOzbiwgcGFyYSB2YWxvcmVzIHByb21lZGlvIGRlIGxhcyB2YXJpYWJsZXMgaW5kZXBlbmRpZW50ZXMsIGVsIHZvdG8gZXN0aW1hZG8gYSBQUEssIHNlZ8O6biBlbCBtb2RlbG8sIHNlcsOtYSBkZSAxNS4xJS4KRXN0ZSBtaXNtbyBlamVyY2ljaW8gc2UgcHVlZGUgaGFjZXIgcGFyYSBsb3MgdmFsb3JlcyBtw61uaW1vcywgbcOheGltb3MsIHBhcmEgYWxndW5vcyBwZXJjZW50aWxlcyBwYXJ0aWN1bGFyZXMsIGV0Yy4KCiMjIENvbXBhcmFuZG8gZW50cmUgdmFyaWFibGVzCgpFbiBvY2FzaW9uZXMgc2UgcXVpZXJlIGFuYWxpemFyIHF1w6kgdmFyaWFibGUgaW5kZXBlbmRpZW50ZSB0aWVuZSB1biBtYXlvciBlZmVjdG8gc29icmUgbGEgdmFyaWFibGUgZGVwZW5kaWVudGUuCkVzdGUgYW7DoWxpc2lzIG5vIHNlIHB1ZWRlIGhhY2VyIHNpbXBsZW1lbnRlIGNvbXBhcmFuZG8gbG9zIGNvZWZpY2llbnRlcyBkZWwgbW9kZWxvIGFudGVyaW9yLCBkZWJpZG8gYSBxdWUgZXN0b3MgY29lZmljaWVudGVzIGVzdMOhbiBlbiBkaWZlcmVudGVzIHVuaWRhZGVzOiBhY2Nlc28gYSBpbnRlcm5ldCBlbiBwb3JjZW50YWplIHkgUEJJIHBlciBjw6FwaXRhIGVuIHNvbGVzLgoKUGFyYSBwb2RlciBjb21wYXJhciBlbCBlZmVjdG8gZGUgY2FkYSB2YXJpYWJsZSBzb2JyZSBsYSB2YXJpYWJsZSBkZXBlbmRpZW50ZSwgc2UgdGllbmUgcXVlIGNhbGN1bGFyIGxvcyBjb2VmaWNpZW50ZXMgZXN0YW5kYXJpemFkb3MuCkVzdG9zIGNvZWZpY2llbnRlcyBzb24gaW5kZXBlbmRpZW50ZXMgZGUgbGFzIHVuaWRhZGVzIGRlIG1lZGlkYS4KClBhcmEgcG9kZXIgY2FsY3VsYXMgbG9zIGNvZWZpY2llbnRlcyBlc3RhbmRhcml6YWRvcywgc2UgcHVlZGUgdXNhciBsYSBsaWJyZXLDrWEgYGp0b29sc2AsIHF1ZSBjdWVudGEgY29uIGVsIGNvbWFuZG8gYHN1bW1gLCBkb25kZSBzZSBwdWVkZSBlc3BlY2lmaWNhciBgc2NhbGU9VFJVRWAgcGFyYSBxdWUgc2UgcHJlc2VudGVuIGxvcyBjb2VmaWNpZW50ZXMgZXN0YW5kYXJpemFkb3MuCgpgYGB7ciBlc3RhbmRhcn0KbGlicmFyeShqdG9vbHMpCnN1bW0obW9kZWxvNCwgc2NhbGU9VCkKYGBgCgpEZSBhY3VlcmRvIGEgZXN0b3MgcmVzdWx0YWRvcywgbGEgdmFyaWFibGUgaW5kZXBlbmRpZW50ZSBxdWUgdGllbmUgdW4gZWZlY3RvIG1heW9yIHNvYnJlIGxhIHZhcmlhYmxlIGRlcGVuZGllbnRlIGVzIGVsIFBCSSBwZXIgY8OhcGl0YS4KRXN0ZSBhbsOhbGlzaXMgZXMgbXVjaG8gbcOhcyDDunRpbCBjdWFuZG8gdGVuZW1vcyB1bmEgbWF5b3IgY2FudGlkYWQgZGUgdmFyaWFibGVzIGluZGVwZW5kaWVudGVzIHkgZGUgdmFyaWFibGVzIHNpZ25pZmljYXRpdmFzIGVuIGRpZmVyZW50ZXMgdW5pZGFkZXMgZGUgbWVkaWNpw7NuLgoKUGFyYSBncmFmaWNhciBsb3MgY29lZmljaWVudGVzCgpgYGB7cn0KcGxvdF9zdW1tcyhtb2RlbG80LCBjb2Vmcz1jKCIlIEZhbWlsaWFzIGNvbiBhY2Nlc28gYSBpbnRlcm5ldCIgPSAiVXNvX2ludGVybmV0IiwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGFzYSBkZSBhbmFsZmFiZXRpc21vICgyMDE0KSIgPSAiQW5hbGZhYmV0aXNtb18yMDE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQQkkgcGVyIGPDoXBpdGEgKDIwMTQpIiA9ICJwYmlwY18yMDE0IikpCmBgYAoKIyBMZXllbmRvIHJlc3VsdGFkb3MgYWNhZMOpbWljb3MKCkVsIGFuw6FsaXNpcyBkZSByZWdyZXNpw7NuIGxpbmVhbCBtdWx0aXZhcmlhZG8gZXMgdW5hIGRlIGxhcyBoZXJyYW1pZW50YXMgYWNhZMOpbWljYXMgbcOhcyB1c2FkYXMuCkVzIG11eSBjb23Dum4gZW5jb250cmFyIHRhYmxhcywgY29tbyBsYSBxdWUgc2UgbXVlc3RyYSBhYmFqbywgY29uIHJlc3VsdGFkb3MgZGUgZXN0ZSB0aXBvLgoKVW4gcHVudG8gaW1wb3J0YW50ZSwgYWRlbcOhcyBkZSBwcm9kdWNpciByZXN1bHRhZG9zLCBlcyBzYWJlciBpbnRlcnByZXRhcmxvcy4KTGEgdGFibGEgcHJvdmllbmUgZGUgbGEgdGVzaXMgZGUgcHJlZ3JhZG8gZGUgU2ViYXN0acOhbiBMYXpvLCBsdWVnbyByZXBvcnRhZGEgZW4gc3UgYXJ0w61jdWxvICJDb21wb3J0YW1pZW50byBlbGVjdG9yYWwgZW4gZWwgUGVyw7o6IFVuIGFuw6FsaXNpcyBkZWwgcm9sIGRlIGxhcyB2YXJpYWJsZXMgc29jaW9kZW1vZ3LDoWZpY2FzIGVuIGxhcyBlbGVjY2lvbmVzIHByZXNpZGVuY2lhbGVzIGVuIHByaW1lcmEgdnVlbHRhIGRlIDIwMDYgeSAyMDExIiwgZGlzcG9uaWJsZSBbYXF1w61dKGh0dHBzOi8vcmV2aXN0YXMucHVjcC5lZHUucGUvaW5kZXgucGhwL2NpZW5jaWFwb2xpdGljYS9hcnRpY2xlL3ZpZXcvMTQ1MjApLgoKRWwgYXJ0w61jdWxvIGhhY2UgdW5hIHJldmlzacOzbiBkZSBsYSBsaXRlcmF0dXJhIGRlIGxvcyBlc3R1ZGlvcyBlbiBQZXLDuiBzb2JyZSBlbCBjb21wb3J0YW1pZW50byBlbGVjdG9yYWwgZSBpZGVudGlmaWNhIGxhcyBwcmluY2lwYWxlcyB2YXJpYWJsZXMgcXVlIHNlIGRpc2N1dGVuIGPDs21vIGV4cGxpY2F0aXZhcyBkZWwgdm90byBwb3IgY2llcnRvcyBjYW5kaWRhdG9zLgoKIVtdKG1hcmNvLnBuZyl7d2lkdGg9IjU0NCJ9CgpMdWVnbyBpZGVudGlmaWNhIGxhcyB2YXJpYWJsZXMgZGlzcG9uaWJsZXMgeSBxdWUgZXN0w6FuIHJlbGFjaW9uYWRhcyBjb24gZWwgbWFyY28gdGXDs3JpY28uCkxhIHVuaWRhZCBkZSBhbsOhbGlzaXMgc29uIGxvcyBkaXN0cml0b3MgZGVsIFBlcsO6LgpVbmEgdW5hIHZhcmlhYmxlIGRlcGVuZGllbnRlIHBvciBjYWRhIGNhbmRpZGF0byB5IHVuIHNldCBkZSB2YXJpYWJsZXMgaW5kZXBlbmRpZW50ZXMsIHF1ZSByZWZpZXJlbiBkZSBhbGd1bmEgbWFuZXJhIGNvbiBsYSByZXZpc2nDs24gZGUgbGEgbGl0ZXJhdHVyYS4KRW4gbG9zIGVzdHVkaW9zIGN1YW50aXRhdGl2b3Mgc2UgdGllbmUgbGEgcmVzdHJpY2Npw7NuIGRlIGxhIGRpc3BvbmliaWxpZGFkIGRlIGxhIGluZm9ybWFjacOzbi4KTm8gdG9kb3MgbG9zIGZhY3RvcmVzIHF1ZSBzZSBoaXBvdGV0aXphIHF1ZSB0aWVuZW4gcmVsYWNpw7NuIGNvbiB1bmEgdmFyaWFibGUgaGFuIHNpZG8gbWVkaWRvcy4KCiFbXSh2YXJpYWJsZXMucG5nKXt3aWR0aD0iNTI0In0KCkxhem8gb2J0aWVuZSBsb3Mgc2lndWllbnRlcyByZXN1bHRhZG9zLgpTZSBtdWVzdHJhbiBsb3MgY29lZmljaWVudGVzLCBsb3Mgc2lnbm9zIGRlIGxvcyBjb2VmaWNpZW50ZXMgeSBhc3RlcmlzY29zIHF1ZSBpbmRpY2FuIGVsIG5pdmVsIGRlIHNpZ25pZmljYW5jaWEgZGUgbG9zIHJlc3VsdGFkb3MuCgohW10oTGF6by5wbmcpe3dpZHRoPSI0ODQifQoKTGF6byBhZGVtw6FzIGluY2x1eWUgdW5hIG5vdGEgYWwgcGllIGNvbiBsb3MgZGV0YWxsZXMgZGUgbGFzIHNpZ25pZmljYW5jaWFzIHkgY29uIGxhIGZ1ZXJ6YSBleHBwbGljYXRpdmEgZGUgY2FkYSBtb2RlbG8gbWVkaWFudGUgZWwgUjIuClNlIGFzdW1lIHF1ZSB0b2RvcyBsb3MgbW9kZWxvcyBzb24gdsOhbGlkb3MuCgohW10ocGllcGFnaW5hLnBuZyl7d2lkdGg9IjQ3MyJ9CgrCv1F1w6kgY29uY2x1c2lvbmVzIHNlIHB1ZWRlIHRlbmVyIGRlIGVzdG9zIHJlc3VsdGFkb3MgYWNlcmNhIGRlbCBwZXJmaWwgZGUgbG9zIGNhbmRpZGF0b3M/Cg==</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("clase12.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
